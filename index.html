<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Little One's Birthday Quest! üå∏</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap');
    /* Global Styles */
    body {
      margin: 0;
      background: linear-gradient(#f7e6ff, #cce6ff);
      font-family: 'Patrick Hand', cursive;
      touch-action: manipulation;
      overflow: hidden;
    }
    #gameContainer {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    #score {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.95);
      padding: 10px 20px;
      border-radius: 20px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      font-size: 1.2em;
      z-index: 10;
    }
    .collectible {
      position: absolute;
      cursor: pointer;
      transition: transform 0.3s ease, opacity 0.3s ease;
      animation: float 3s ease-in-out infinite;
      filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3));
    }
    .collectible:hover {
      transform: scale(1.3);
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(5deg); }
      50% { transform: translateY(-20px) rotate(-5deg); }
    }
    .pump {
      animation: pump 0.5s ease-out;
    }
    @keyframes pump {
      50% { transform: scale(1.5); }
    }
    /* Enhanced Bunny Styling */
    #bunny {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      transition: left 0.2s ease-out;
      z-index: 5;
      filter: drop-shadow(4px 6px 8px rgba(0,0,0,0.2));
    }
    /* Start Screen Overlay */
    #startScreen {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background: rgba(255,255,255,0.95);
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0,0,0,0.2);
      text-align: center;
      z-index: 20;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }
    #startScreen h1 {
      margin: 0 0 10px;
      color: #EC407A;
      font-size: 2.5em;
    }
    #startScreen p {
      font-size: 1.2em;
      margin: 20px 0;
      color: #555;
    }
    #startScreen button {
      font-size: 1.2em;
      padding: 8px 20px;
      background: #EC407A;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    #startScreen button:hover {
      background: #D81B60;
    }
    @keyframes fadeIn {
      to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    /* End screen overlay styling with graceful animation */
    #endScreen {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background: rgba(255,255,255,0.95);
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0,0,0,0.2);
      text-align: center;
      z-index: 20;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }
    #endScreen h1 {
      margin: 0 0 10px;
      color: #EC407A;
      font-size: 2.8em;
    }
    #endScreen p {
      font-size: 1.3em;
      margin: 20px 0;
      color: #555;
    }
  </style>
</head>
<body>
  <div id="score">üéÇ Points: 0</div>
  <div id="gameContainer">
    <!-- Start Screen Overlay -->
    <div id="startScreen">
      <h1>Welcome!</h1>
      <p>
        Hurry and reach 150 points!<br>
        Can you find all the goodies?<br>
        (Psst... Where did the gym dumbbell go?)
      </p>
      <button id="startBtn">Start the Quest!</button>
    </div>
    
    <!-- Enhanced Bunny Graphic -->
    <div id="bunny">
      <svg viewBox="0 0 200 200">
        <defs>
          <radialGradient id="bunnyFace" cx="50%" cy="50%" r="60%">
            <stop offset="0%" stop-color="#FFFDE7" />
            <stop offset="100%" stop-color="#F8BBD0" />
          </radialGradient>
          <radialGradient id="earGradient" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#FFFDE7" />
            <stop offset="100%" stop-color="#F48FB1" />
          </radialGradient>
        </defs>
        <!-- Bunny Head -->
        <circle cx="100" cy="100" r="80" fill="url(#bunnyFace)" stroke="#EC407A" stroke-width="4"/>
        <!-- Bunny Ears -->
        <ellipse cx="60" cy="40" rx="18" ry="30" fill="url(#earGradient)" stroke="#EC407A" stroke-width="4" transform="rotate(-20 60 40)"/>
        <ellipse cx="140" cy="40" rx="18" ry="30" fill="url(#earGradient)" stroke="#EC407A" stroke-width="4" transform="rotate(20 140 40)"/>
        <!-- Eyes -->
        <circle cx="75" cy="90" r="8" fill="#000"/>
        <circle cx="125" cy="90" r="8" fill="#000"/>
        <!-- Soft blush -->
        <circle cx="65" cy="110" r="5" fill="#EC407A" opacity="0.7"/>
        <circle cx="135" cy="110" r="5" fill="#EC407A" opacity="0.7"/>
        <!-- Smiling Mouth -->
        <path d="M80,130 Q100,150 120,130" stroke="#EC407A" stroke-width="4" fill="none" stroke-linecap="round"/>
        <!-- Nose -->
        <circle cx="100" cy="115" r="4" fill="#EC407A"/>
      </svg>
    </div>
  </div>
  
  <script>
    let score = 0;
    let gameOver = false;
    let spawnTimeout;

    
    */
    const collectibles = [
      { // Book collectible (PNG)
        type: 'img',
        src: 'book.png',  
        points: 15,
        width: 80,
        height: 80
      },
      { // Tulip collectible (PNG)
        type: 'img',
        src: 'tulip.png',  
        points: 20,
        width: 80,
        height: 80
      },
      { // Dumbbell collectible (SVG)
        type: 'svg',
        svg: `
          <svg viewBox="0 0 64 64" width="80" height="80">
            <circle cx="14" cy="32" r="10" fill="#CFD8DC" stroke="#90A4AE" stroke-width="3"/>
            <circle cx="50" cy="32" r="10" fill="#CFD8DC" stroke="#90A4AE" stroke-width="3"/>
            <rect x="24" y="28" width="16" height="8" fill="#B0BEC5" stroke="#90A4AE" stroke-width="3"/>
          </svg>
        `,
        points: 10,
        width: 80,
        height: 80
      }
    ];

    // Recursive function to spawn collectibles with dynamic delay.
    function spawnCollectible() {
      if (gameOver) return;
      
      // Choose a random collectible.
      const itemData = collectibles[Math.floor(Math.random() * collectibles.length)];
      const item = document.createElement('div');
      item.className = 'collectible';
      item.style.width = itemData.width + 'px';
      item.style.height = itemData.height + 'px';
      item.style.left = Math.random() * (window.innerWidth - itemData.width) + 'px';
      // Ensure the item appears in the visible area (avoid overlapping the score or bunny).
      item.style.top = Math.random() * (window.innerHeight - itemData.height - 140) + 'px';
      
      if (itemData.type === 'img') {
        const img = document.createElement('img');
        img.src = itemData.src;
        img.width = itemData.width;
        img.height = itemData.height;
        item.appendChild(img);
      } else if (itemData.type === 'svg') {
        item.innerHTML = itemData.svg;
      }
      
      // Automatically remove the collectible after 7 seconds if unclicked.
      const removeTimer = setTimeout(() => {
        if (item.parentElement) {
          item.style.opacity = 0;
          setTimeout(() => item.remove(), 300);
        }
      }, 7000);
      
      item.onclick = function() {
        clearTimeout(removeTimer);
        score += itemData.points;
        document.getElementById('score').innerHTML = `üéÇ Points: ${score}`;
        item.classList.add('pump');
        setTimeout(() => item.remove(), 300);
        if (score >= 150) {
          endGame();
        }
      };

      document.getElementById('gameContainer').appendChild(item);
      
      // Dynamic spawn delay: speeds up as the score increases.
      const baseDelay = 1200;
      const delayReduction = Math.min(score * 2, 600); // up to 600ms reduction.
      const nextDelay = Math.max(baseDelay - delayReduction, 600);
      
      spawnTimeout = setTimeout(spawnCollectible, nextDelay);
    }

    function endGame() {
      gameOver = true;
      clearTimeout(spawnTimeout);
      // Remove any remaining collectibles.
      document.querySelectorAll('.collectible').forEach(item => item.remove());
      // Display the end screen.
      const endScreen = document.createElement('div');
      endScreen.id = 'endScreen';
      endScreen.innerHTML = `
        <h1>üéâ Happy late Birthday little one! üéÇ</h1>
        <p>
          To My Little One:<br>
          May your life bloom like tulips,<br>
          Be strong like gym weights,<br>
          And full of knowledge like books!<br>
          ‚ù§Ô∏è From Your Man
        </p>
      `;
      document.getElementById('gameContainer').appendChild(endScreen);
    }

    // Start the game when the Start button is clicked.
    document.getElementById('startBtn').addEventListener('click', () => {
      const startScreen = document.getElementById('startScreen');
      startScreen.style.transition = 'opacity 0.5s ease';
      startScreen.style.opacity = 0;
      setTimeout(() => {
        startScreen.remove();
        spawnCollectible();
      }, 500);
    });

    // Bunny movement: make the bunny follow the mouse/touch.
    function updateBunnyPosition(clientX) {
      const bunny = document.getElementById('bunny');
      let newX = clientX - bunny.offsetWidth / 2;
      newX = Math.max(0, Math.min(newX, window.innerWidth - bunny.offsetWidth));
      bunny.style.left = newX + 'px';
    }
    document.addEventListener('mousemove', (e) => {
      updateBunnyPosition(e.clientX);
    });
    document.addEventListener('touchmove', (e) => {
      e.preventDefault();
      updateBunnyPosition(e.touches[0].clientX);
    }, { passive: false });
  </script>
</body>
</html>
